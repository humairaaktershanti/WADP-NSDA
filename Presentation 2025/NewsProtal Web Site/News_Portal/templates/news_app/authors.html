{% extends 'master.html' %}

{% block body %}
<main id="content" role="main" aria-label="Author List">

  <section>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="mb-0">Authors</h2>
    </div>

    <div class="card shadow-sm">
      <div class="card-body p-0">
        <table class="table table-striped mb-0">
          <thead class="thead-dark">
            <tr>
              <th scope="col">S/L</th>
              <th scope="col">Profile</th>
              <th scope="col">Username</th>
              <th scope="col">Author Name</th>
              <th scope="col">Email</th>
              <th scope="col">Phone</th>
              <th scope="col" style="width: 100px;">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for author in authors %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>
                {% if author.profile %}
                  <img src="{{ author.profile.url }}" alt="" style="width:40px; height:40px; object-fit:cover; border-radius:50%;">
                {% else %}
                  <span class="text-muted">No Image</span>
                {% endif %}
              </td>
              <td>{{ author.username }}</td>
              <td>{{ author.first_name }} {{ author.last_name }}</td>
              <td>{{ author.email }}</td>
              <td>{{ author.phone }}</td>
              <td>
                <a href="{% url 'edit_author' author.id %}" class="table-actions" title="Edit">
                  <i class="fas fa-edit"></i>
                </a>
                <a href="{% url 'author_delete' author.id %}" class="table-actions text-danger" title="Delete">
                  <i class="fas fa-trash"></i>
                </a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="6" class="text-center">No authors found.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </section>
</main>
{% endblock %}