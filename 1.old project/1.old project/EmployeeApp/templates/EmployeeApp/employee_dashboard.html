{% extends 'AuthApp/master.html' %}

{% block title %}Employee Dashboard - InstraCore{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            <div class="card shadow-lg">
                <div class="card-body p-5">
                    <h3 class="mb-4">Welcome to Employee Dashboard</h3>
                    <p class="lead mb-4">Redirecting to your specific dashboard...</p>
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Redirect based on user's sub_role
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            {% if user.sub_role == 'faculty' %}
                window.location.href = "{% url 'faculty_dashboard' %}";
            {% elif user.sub_role == 'hr' %}
                window.location.href = "{% url 'hr_dashboard' %}";
            {% elif user.sub_role == 'finance' %}
                window.location.href = "{% url 'finance_dashboard' %}";
            {% elif user.sub_role == 'teacher' %}
                window.location.href = "{% url 'teacher_dashboard' %}";
            {% else %}
                window.location.href = "{% url 'other_dashboard' %}";
            {% endif %}
        }, 1500);
    });
</script>
{% endblock %}