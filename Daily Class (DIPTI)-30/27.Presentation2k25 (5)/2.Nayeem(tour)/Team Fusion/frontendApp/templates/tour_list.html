{% extends 'frontend_base.html' %}
{% load static %}
{% block title %}About Us{% endblock title %}
{% block content %}

        <div class="container-fluid bg-primary py-5 mb-5 hero-header">
            <div class="container py-5">
                <div class="row justify-content-center py-5">
                    <div class="col-lg-10 pt-lg-5 mt-lg-5 text-center">
                        <h1 class="display-3 text-white animated slideInDown">Tours</h1>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb justify-content-center">
                                <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
                                <li class="breadcrumb-item"><a href="{% url 'destinations' %}">Destinations</a></li>
                                <li class="breadcrumb-item text-white active" aria-current="page">Tours</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>

    <!-- Navbar & Hero End -->


    <div class="container-xxl py-5 destination">
    <div class="container">
        <div class="row g-4 justify-content-center">
            {% for tour in page_obj %}
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="{{ forloop.counter0|add:'0.1' }}s">
                <div class="package-item d-flex flex-column h-100">
                    <div class="overflow-hidden position-relative" style="height: 250px;">
                        <img class="img-fluid w-100 h-100" style="object-fit: cover;" 
                            src="{{ tour.tour_featured_image.url }}" alt="{{ tour.title }}">
                        {% if tour.offer_price %}
                        <div class="bg-white text-danger fw-bold position-absolute top-0 start-0 m-3 py-1 px-2">
                            {{ tour.offer_percentage }}% Off
                        </div>
                        {% endif %}
                    </div>
                    <div class="d-flex border-bottom">
                        <small class="flex-fill text-center border-end py-2">
                            <i class="fa fa-map-marker-alt text-primary me-2"></i>{{ tour.country.name }}
                        </small>
                        <small class="flex-fill text-center py-2">
                            <i class="fa fa-calendar-alt text-primary me-2"></i>{{ tour.duration_days }} days
                        </small>
                    </div>
                    <div class="text-center p-4 flex-grow-1 d-flex flex-column justify-content-between">
                        <h5 class="mb-2">{{ tour.title }}</h5>
                        <h5 class="mb-2">
                            {% if tour.offer_price %}
                                ${{ tour.offer_price }}
                                <del class="text-muted">${{ tour.regular_price }}</del>
                            {% else %}
                                ${{ tour.regular_price }}
                            {% endif %}
                        </h5>
                        <div class="tour-rating mb-3">
                            {% for i in "12345"|make_list %}
                                {% if i|add:'0' <= tour.average_rating %}
                                    <i class="bi bi-star-fill text-primary"></i>
                                {% elif i|add:'0' < tour.average_rating|add:'1' %}
                                    <i class="bi bi-star-half text-primary"></i>
                                {% else %}
                                    <i class="bi bi-star text-primary"></i>
                                {% endif %}
                            {% endfor %}
                            <span>{{ tour.average_rating }} ({{ tour.review_count }})</span>
                        </div>
                        <div class="d-flex justify-content-center mb-2 mt-auto">
                            <a href="" class="btn btn-sm btn-secondary px-3 border-end" style="border-radius: 30px 0 0 30px;">Read More</a>
                            <a href="" class="btn btn-sm btn-success px-3" style="border-radius: 0 30px 30px 0;">Book Now</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Pagination -->
        <nav aria-label="Page navigation" class="mt-4">
          <ul class="pagination justify-content-center">
            {% if page_obj.has_previous %}
              <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
            {% else %}
              <li class="page-item disabled"><span class="page-link">&laquo;</span></li>
            {% endif %}

            {% for num in page_obj.paginator.page_range %}
              {% if page_obj.number == num %}
                <li class="page-item active"><span class="page-link">{{ num }}</span></li>
              {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
              {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
              <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
            {% else %}
              <li class="page-item disabled"><span class="page-link">&raquo;</span></li>
            {% endif %}
          </ul>
        </nav>
    </div>
</div>


  {% endblock content %}